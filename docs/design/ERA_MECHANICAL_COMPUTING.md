# 第一章详细设定：机械计算时代 ——「齿轮与蒸汽的乐章」

本章为机械计算时代的详细设定文档，用于关卡设计、美术氛围、NPC 剧情与装备系统的细化。

---

## 1. 整体氛围与区域划分

### 1.1 城市概览：「分析城」

- 城市风格：蒸汽朋克 + 维多利亚时代。
- 主视觉元素：
  - 贯穿城市中心的「差分引擎塔」，外观类似巨型钟楼，内部是层层齿轮与十进制拨盘。
  - 天空中定时喷出白色蒸汽的高压管道。
  - 街道上的机械轨道车、手推计算车、移动算盘摊位。
- 城市功能分区：
  1. **齿轮工坊区**：新手起始区域，敌人较弱，多为失控的小型机械。
  2. **算表街**：聚集着手动计算师和算盘行会，是冲突最为激烈的地带。
  3. **钟楼环廊**：围绕差分引擎塔的高空走廊，用于中后期解谜与平台跳跃。
  4. **政务大厅**：剧情关键场所，多次发生辩论与剧情战斗。
  5. **蒸汽车站**：连接城外矿区与其他城镇的交通枢纽，可设计为后续章节的入口伏笔。

### 1.2 敌人生态（普通敌人）

- **走火的算盘兵**：
  - 形象：带腿的小算盘，珠子乱滑。
  - 行为：直线冲锋 + 短暂眩晕。
  - 象征：错误的人工计算与焦躁情绪。

- **失控齿轮犬**：
  - 形象：用废旧齿轮组装的机械犬。
  - 行为：成群扑咬，偶尔因齿轮卡死而自我眩晕。

- **蒸汽爆裂罐**：
  - 形象：贴着警示符号的高压蒸汽罐。
  - 行为：接近玩家后倒计时爆炸，需利用环境击破其他敌人。

- **错误抄写员**：
  - 形象：披着长袍，手持羽毛笔的抄写者。
  - 行为：远程投掷“错误公式”，命中后让玩家短时间内攻击力下降或操作反向。

---

## 2. 主要 NPC 设定

### 2.1 查尔斯·巴贝奇（Charles Babbage）

- 身份：差分引擎塔的总设计师，本章主线的核心 NPC。
- 性格特征：
  - 理想主义 + 固执，容易与政务人员和公会长老僵持。
  - 对技术有近乎宗教般的信仰。
- 主要职责：
  - 引导玩家理解差分引擎的意义。
  - 发布主线任务（修复部件、护送核心零件、调查破坏事件）。
- 好感度相关：
  - 若玩家在任务中经常选择“为项目辩护”，好感度上升，可获得额外蓝图类奖励。

### 2.2 艾达·洛夫莱斯（Ada Lovelace）

- 身份：贵族出身的数学家，负责为分析机编写“算法乐谱”。
- 性格特征：
  - 优雅、敏锐，擅长用比喻描述复杂概念（如“数字的交响乐”）。
- 剧情作用：
  - 编程语言支线的关键起点。
  - 带领玩家完成一系列“指令排序”“循环结构”的解谜关卡（例如：让机械臂按顺序拨动轮盘）。
- 奖励：
  - 完成她的支线，可获得被动技能「算法草稿」，并解锁后续时代的语言支线选项。

### 2.3 手动计算公会长老团

- 身份：
  - 掌管城市中大部分算表制作和手算业务的利益集团。
- 成员构成（示例）：
  1. **长老·比尔**：古板、保守，坚信“人脑才是最可靠的计算器”。
  2. **长老·米娜**：表面温和，实则善于舆论操控，煽动“机械取代人类”的恐慌。
  3. **长老·哈罗德**：内心摇摆不定，后期可被玩家说服成为中立盟友。
- 剧情走向：
  - 他们中的一位激进长老最终与机械魔像融合，成为 Boss。

### 2.4 工匠与平民 NPC

- 齿轮匠「托马斯」：为玩家提供装备升级服务。
- 电报技师「爱米丽」：负责一条与后续“通信技术”伏笔相关的支线。
- 矿工代表「杰克」：代表底层劳动者视角，让玩家看到技术变革带来的就业焦虑。

---

## 3. 装备与技术对应关系

本时代的所有装备都源自现实机械计算与工程技术。

### 3.1 武器

- **「差分之刃」**（主线奖励）：
  - 来源：差分机的分段齿轮结构。
  - 效果：
    - 基础攻击提升。
    - 对短时间内重复出现的同类敌人伤害提高（象征“对重复任务的加速计算”）。

- **「继电冲击锤」**：
  - 来源：早期电磁继电器原型（虽然略跨时代，但可作为前驱技术伏笔）。
  - 效果：
    - 攻击时有概率触发二次打击。

- **「计算员羽毛笔」**：
  - 武器类型：法杖类 / 施法媒介。
  - 效果：与“公式类技能”搭配时威力提升。

### 3.2 防具

- **「齿轮背带」**：
  - 效果：提高防御，受到近战攻击时有小概率“卡住”敌人动作。

- **「游标卡尺护腕」**：
  - 效果：提升暴击率（象征精确测量）。

- **「机匠围裙」**：
  - 效果：提高耐久度与负重上限，适合偏近战或工具流派。

### 3.3 饰品与道具

- **「黄铜秒表」**：
  - 效果：缩短技能冷却时间的小幅比例。

- **「穿孔卡牌组」**：
  - 来源：穿孔卡片技术雏形。
  - 效果：
    - 战斗前可插入一张卡，为本次战斗添加一个预设 Buff（例如先发攻击提升、一次免疫负面效果）。

- **「七位算盘链」**：
  - 效果：提升金钱获取量或掉落率，象征精于算盘的人更会“算计收益”。

---

## 4. 关卡与事件概述

### 4.1 新手关：齿轮工坊事故

- 目标：
  - 引导玩家熟悉基本操作与战斗。
- 剧情简述：
  - 差分引擎的一个模块在测试时发生失控，导致大量小型机械散落工坊。
  - 玩家在工匠托马斯的引导下，一边清理，一边认识基础敌人与环境互动（如拉动拉杆停机、关闭蒸汽阀门）。

### 4.2 主城事件：算盘广场辩论

- 结构：
  - 先是剧情对话 + 选项，后转为战斗。
- 关键抉择：
  - 玩家可以选择强硬维护机械技术，或尝试安抚手算者的焦虑。
  - 不同选择会影响后续长老团的态度和支线解锁情况。

### 4.3 支线：算法乐谱试验

- 触发方式：
  - 完成与艾达的数次对话并在小任务中展示“有条理的思考方式”。
- 内容：
  - 将几段“动作指令”按正确顺序排列，让测试机械臂完成一系列复杂操作（搬运、旋转、堆叠）。
- 奖励：
  - 被动技能「算法草稿」+ 穿孔卡牌组基础版。

### 4.4 前往下一时代的伏笔

- 当差分引擎塔完全启动后，其顶端会射出一束光，照亮远方“电子火花”的天幕裂缝。
- 时间编译器提示：算界的错误并未止步于此，下一站是「真空中的光芒」。

---

## 5. 与整体系统的衔接

- 本章主要教学内容：
  - 基础战斗与移动。
  - 基础装备系统（武器、防具、饰品）。
  - 初次引入“指令序列”概念，为编程语言支线做铺垫。
  - 展示“技术进步 vs 既得利益”的冲突主题。
- 对全局变量的影响：
  - 记录玩家在辩论事件中的倾向（保守 / 激进 / 调和），作为后续时代 NPC 态度和结局分支的隐性参数之一。
